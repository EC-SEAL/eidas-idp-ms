version: '2'
  
services:

  Memcached:
        image: sameersbn/memcached:1.5.6
        ports:
            - 11211:11211
    
  IdPoidcMS:
        image: endimion13/esmo-idp-gr:0.0.3
        environment:
            - KEYSTORE_PATH=/resources/testKeys/keystore.jks
            - KEY_PASS=selfsignedpass
            - STORE_PASS=keystorepass
            - JWT_CERT_ALIAS=selfsigned
            - HTTPSIG_CERT_ALIAS=1
            - SIGNING_SECRET=QjG+wP1CbAH2z4PWlWIDkxP4oRlgK2vos5/jXFfeBw8=
            - ASYNC_SIGNATURE=true
            - EXPIRES=5
            - CONFIG_JSON=/resources/configurationResponse.json
            - ACM_URL=http://192.168.1.37:8070
            - SESSION_MANAGER_URL=http://5.79.83.118:8090
            - CONFIGURATION_MANAGER_URL=http://5.79.83.118:8080
            - MEMCACHED_HOST=172.17.0.1
            - MEMCACHED_PORT=11211
            - EIDAS_PROPERTIES=FamilyName,FirstName
            - ESMO_SUPPORTED_SIG_ALGORITHMS=RSA
            - ESMO_SUPPORTED_ENC_ALGORITHMS=RSA

        volumes:
            - /home/nikos/NetBeansProjects/esmo.gr.idp/src/test/resources:/resources
            #- /ESMO/IdPoidcMS/resources:/resources
            - /webappConfig:/webappConfig # Not needed at this moment
        ports:
            - 8091:8080
