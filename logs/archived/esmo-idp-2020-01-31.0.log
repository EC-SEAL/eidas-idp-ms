2020-01-31 12:33:01,279 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos with PID 21972 (started by nikos in /home/nikos/NetBeansProjects/seal.eidas.idp)
2020-01-31 12:33:01,282 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2020-01-31 12:33:03,636 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2020-01-31 12:33:04,252 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ebffb44, org.springframework.security.web.context.SecurityContextPersistenceFilter@5afbd567, org.springframework.security.web.header.HeaderWriterFilter@1d6d1d42, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@311ff287, org.springframework.security.web.authentication.logout.LogoutFilter@17aa8a11, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@7377781e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57545c3f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56382bc9, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@31db34da, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@109f8c7e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5edacf20, org.springframework.security.web.session.SessionManagementFilter@7978e022, org.springframework.security.web.access.ExceptionTranslationFilter@ceddaf8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@58c1da09]
2020-01-31 12:33:04,728 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-31 12:33:05,133 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-01-31 12:33:05,134 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-01-31 12:33:05,147 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 12 ms
2020-01-31 12:33:05,176 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 4.392 seconds (JVM running for 5.566)
2020-01-31 12:33:07,178 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-31 12:33:07,189 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter [SpringContextShutdownHook] Unregistering deployment
2020-01-31 12:34:03,576 INFO org.springframework.boot.StartupInfoLogger [main] Starting LoginWebAppApplication on nikos with PID 22088 (/home/nikos/NetBeansProjects/seal.eidas.idp/target/classes started by nikos in /home/nikos/NetBeansProjects/seal.eidas.idp)
2020-01-31 12:34:03,582 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-31 12:34:06,453 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-01-31 12:34:06,469 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-31 12:34:06,470 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-31 12:34:06,471 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-01-31 12:34:06,572 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-31 12:34:06,573 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2770 ms
2020-01-31 12:34:06,799 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakSecurityContextRequestFilter' configured for use
2020-01-31 12:34:06,801 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakAuthenticationProcessingFilter' configured for use
2020-01-31 12:34:06,802 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakPreAuthActionsFilter' configured for use
2020-01-31 12:34:06,804 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakAuthenticatedActionsRequestFilter' configured for use
2020-01-31 12:34:06,810 DEBUG org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve [main] Using org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver to resolve Keycloak configuration on a per-request basis.
2020-01-31 12:34:06,916 INFO com.google.code.ssm.config.DefaultAddressProvider [main] Defined values 172.17.0.1:11211 will be used as memcached addresses
2020-01-31 12:34:07,361 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4de79b7d, org.springframework.security.web.context.SecurityContextPersistenceFilter@d88f893, org.springframework.security.web.header.HeaderWriterFilter@68b734a8, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@5626d18c, org.springframework.security.web.authentication.logout.LogoutFilter@4c82b5df, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@6e3ecf5c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48eaf42f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c93b51e, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@2d55e826, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@4d1ff6b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@183ade54, org.springframework.security.web.session.SessionManagementFilter@4215e133, org.springframework.security.web.access.ExceptionTranslationFilter@3e3cd6fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77d381e6]
2020-01-31 12:34:07,549 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-31 12:34:07,848 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-31 12:34:07,898 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-01-31 12:34:07,902 INFO org.springframework.boot.StartupInfoLogger [main] Started LoginWebAppApplication in 5.596 seconds (JVM running for 6.331)
2020-01-31 12:34:25,205 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-1] adminRequest http://localhost:8080/as/authenticate?msToken=eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uSWQiOiJiNzRmOTEzMy1kZGE3LTQyN2MtYjcwZi05N2NiZmJjYjFiZjIiLCJzZW5kZXIiOiJBQ01tczAwMSIsInJlY2VpdmVyIjoiQVBtczAwMyIsImlzcyI6IiIsImp0aSI6ImIzYWE0YmQxLTJlZjktNDQ4Mi05YjQ0LTQwYTU2ZmIyYTc5OCIsImlhdCI6MTU4MDQ2Njc4NywiZXhwIjoxNTgwNDY3MDg3fQ.ilGBxnNAa2BJaouWKafm6E7VyEti4WE8OOmp4jPkfR83pDYQneifuTCaGjANtVU-SN-qmAPEu4gDO2NhIb3lWo44t1RprgAva9Ch_Fax-UoxZMTHwKALd1DKgxkzcXjM9zOGcznkNfwPlN6SD5RJvionr8Ug-4-etvoffEj1ZAQDL8_aY4PBUN1g9oI9AwgNBY3JFNyKalOZbtmvwZdS_w89bgQu0GVV1USijo4zyLLE3oLP_Vq1ylgJL5u0NKoFtGLXpOgm_r9cFjUYpPdGbswzuuufF_OGJMCqCUXxIVm2iRuAkEdtWUu04xePN9B2BG24tOI8-FTyAOlv7drdtA
2020-01-31 12:34:25,220 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Using provider 'secret' for authentication of client 'sealTest'
2020-01-31 12:34:25,224 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret
2020-01-31 12:34:25,226 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider jwt
2020-01-31 12:34:25,228 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret-jwt
2020-01-31 12:34:25,229 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret
2020-01-31 12:34:25,229 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider jwt
2020-01-31 12:34:25,235 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret-jwt
2020-01-31 12:34:25,249 DEBUG org.keycloak.adapters.KeycloakDeployment [http-nio-8080-exec-1] resolveUrls
2020-01-31 12:34:25,254 DEBUG org.keycloak.adapters.KeycloakDeploymentBuilder [http-nio-8080-exec-1] Use authServerUrl: https://dss1.aegean.gr/auth, tokenUrl: https://dss1.aegean.gr/auth/realms/test/protocol/openid-connect/token, relativeUrls: NEVER
2020-01-31 12:34:25,265 DEBUG org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve [http-nio-8080-exec-1] AuthenticatedActionsValve.invoke /as/authenticate
2020-01-31 12:34:25,269 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-1] AuthenticatedActionsValve.invoke http://localhost:8080/as/authenticate?msToken=eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uSWQiOiJiNzRmOTEzMy1kZGE3LTQyN2MtYjcwZi05N2NiZmJjYjFiZjIiLCJzZW5kZXIiOiJBQ01tczAwMSIsInJlY2VpdmVyIjoiQVBtczAwMyIsImlzcyI6IiIsImp0aSI6ImIzYWE0YmQxLTJlZjktNDQ4Mi05YjQ0LTQwYTU2ZmIyYTc5OCIsImlhdCI6MTU4MDQ2Njc4NywiZXhwIjoxNTgwNDY3MDg3fQ.ilGBxnNAa2BJaouWKafm6E7VyEti4WE8OOmp4jPkfR83pDYQneifuTCaGjANtVU-SN-qmAPEu4gDO2NhIb3lWo44t1RprgAva9Ch_Fax-UoxZMTHwKALd1DKgxkzcXjM9zOGcznkNfwPlN6SD5RJvionr8Ug-4-etvoffEj1ZAQDL8_aY4PBUN1g9oI9AwgNBY3JFNyKalOZbtmvwZdS_w89bgQu0GVV1USijo4zyLLE3oLP_Vq1ylgJL5u0NKoFtGLXpOgm_r9cFjUYpPdGbswzuuufF_OGJMCqCUXxIVm2iRuAkEdtWUu04xePN9B2BG24tOI8-FTyAOlv7drdtA
2020-01-31 12:34:25,270 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-1] Policy enforcement is disabled.
2020-01-31 12:34:25,275 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-31 12:34:25,276 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-31 12:34:25,297 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 15 ms
2020-01-31 12:34:25,326 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Using provider 'secret' for authentication of client 'sealTest'
2020-01-31 12:34:25,328 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret
2020-01-31 12:34:25,329 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider jwt
2020-01-31 12:34:25,329 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret-jwt
2020-01-31 12:34:25,331 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret
2020-01-31 12:34:25,331 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider jwt
2020-01-31 12:34:25,332 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret-jwt
2020-01-31 12:34:25,333 DEBUG org.keycloak.adapters.KeycloakDeployment [http-nio-8080-exec-1] resolveUrls
2020-01-31 12:34:25,335 DEBUG org.keycloak.adapters.KeycloakDeploymentBuilder [http-nio-8080-exec-1] Use authServerUrl: https://dss1.aegean.gr/auth, tokenUrl: https://dss1.aegean.gr/auth/realms/test/protocol/openid-connect/token, relativeUrls: NEVER
2020-01-31 12:34:25,335 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-1] adminRequest http://localhost:8080/as/authenticate?msToken=eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uSWQiOiJiNzRmOTEzMy1kZGE3LTQyN2MtYjcwZi05N2NiZmJjYjFiZjIiLCJzZW5kZXIiOiJBQ01tczAwMSIsInJlY2VpdmVyIjoiQVBtczAwMyIsImlzcyI6IiIsImp0aSI6ImIzYWE0YmQxLTJlZjktNDQ4Mi05YjQ0LTQwYTU2ZmIyYTc5OCIsImlhdCI6MTU4MDQ2Njc4NywiZXhwIjoxNTgwNDY3MDg3fQ.ilGBxnNAa2BJaouWKafm6E7VyEti4WE8OOmp4jPkfR83pDYQneifuTCaGjANtVU-SN-qmAPEu4gDO2NhIb3lWo44t1RprgAva9Ch_Fax-UoxZMTHwKALd1DKgxkzcXjM9zOGcznkNfwPlN6SD5RJvionr8Ug-4-etvoffEj1ZAQDL8_aY4PBUN1g9oI9AwgNBY3JFNyKalOZbtmvwZdS_w89bgQu0GVV1USijo4zyLLE3oLP_Vq1ylgJL5u0NKoFtGLXpOgm_r9cFjUYpPdGbswzuuufF_OGJMCqCUXxIVm2iRuAkEdtWUu04xePN9B2BG24tOI8-FTyAOlv7drdtA
2020-01-31 12:34:25,345 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-1] adminRequest http://localhost:8080/as/authenticate?msToken=eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uSWQiOiJiNzRmOTEzMy1kZGE3LTQyN2MtYjcwZi05N2NiZmJjYjFiZjIiLCJzZW5kZXIiOiJBQ01tczAwMSIsInJlY2VpdmVyIjoiQVBtczAwMyIsImlzcyI6IiIsImp0aSI6ImIzYWE0YmQxLTJlZjktNDQ4Mi05YjQ0LTQwYTU2ZmIyYTc5OCIsImlhdCI6MTU4MDQ2Njc4NywiZXhwIjoxNTgwNDY3MDg3fQ.ilGBxnNAa2BJaouWKafm6E7VyEti4WE8OOmp4jPkfR83pDYQneifuTCaGjANtVU-SN-qmAPEu4gDO2NhIb3lWo44t1RprgAva9Ch_Fax-UoxZMTHwKALd1DKgxkzcXjM9zOGcznkNfwPlN6SD5RJvionr8Ug-4-etvoffEj1ZAQDL8_aY4PBUN1g9oI9AwgNBY3JFNyKalOZbtmvwZdS_w89bgQu0GVV1USijo4zyLLE3oLP_Vq1ylgJL5u0NKoFtGLXpOgm_r9cFjUYpPdGbswzuuufF_OGJMCqCUXxIVm2iRuAkEdtWUu04xePN9B2BG24tOI8-FTyAOlv7drdtA
2020-01-31 12:34:25,391 INFO gr.uagean.loginWebApp.controllers.RestControllers [http-nio-8080-exec-1] got the token:eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uSWQiOiJiNzRmOTEzMy1kZGE3LTQyN2MtYjcwZi05N2NiZmJjYjFiZjIiLCJzZW5kZXIiOiJBQ01tczAwMSIsInJlY2VpdmVyIjoiQVBtczAwMyIsImlzcyI6IiIsImp0aSI6ImIzYWE0YmQxLTJlZjktNDQ4Mi05YjQ0LTQwYTU2ZmIyYTc5OCIsImlhdCI6MTU4MDQ2Njc4NywiZXhwIjoxNTgwNDY3MDg3fQ.ilGBxnNAa2BJaouWKafm6E7VyEti4WE8OOmp4jPkfR83pDYQneifuTCaGjANtVU-SN-qmAPEu4gDO2NhIb3lWo44t1RprgAva9Ch_Fax-UoxZMTHwKALd1DKgxkzcXjM9zOGcznkNfwPlN6SD5RJvionr8Ug-4-etvoffEj1ZAQDL8_aY4PBUN1g9oI9AwgNBY3JFNyKalOZbtmvwZdS_w89bgQu0GVV1USijo4zyLLE3oLP_Vq1ylgJL5u0NKoFtGLXpOgm_r9cFjUYpPdGbswzuuufF_OGJMCqCUXxIVm2iRuAkEdtWUu04xePN9B2BG24tOI8-FTyAOlv7drdtA
2020-01-31 12:34:26,508 INFO gr.uagean.loginWebApp.controllers.RestControllers [http-nio-8080-exec-1] got the responseCode:OK
2020-01-31 12:34:27,520 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-2] adminRequest http://localhost:8080/as/protected
2020-01-31 12:34:27,521 DEBUG org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve [http-nio-8080-exec-2] AuthenticatedActionsValve.invoke /as/protected
2020-01-31 12:34:27,521 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-2] AuthenticatedActionsValve.invoke http://localhost:8080/as/protected
2020-01-31 12:34:27,521 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-2] Policy enforcement is disabled.
2020-01-31 12:34:27,522 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-2] adminRequest http://localhost:8080/as/protected
2020-01-31 12:34:27,587 DEBUG org.keycloak.adapters.springsecurity.management.HttpSessionManager [http-nio-8080-exec-2] Session created: D85D43EF04226095FD536F786A4098F1
2020-01-31 12:34:27,589 DEBUG org.keycloak.adapters.springsecurity.authentication.KeycloakAuthenticationEntryPoint [http-nio-8080-exec-2] Redirecting to login URI /sso/login
2020-01-31 12:34:27,595 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-3] adminRequest http://localhost:8080/sso/login
2020-01-31 12:34:27,597 DEBUG org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve [http-nio-8080-exec-3] AuthenticatedActionsValve.invoke /sso/login
2020-01-31 12:34:27,598 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-3] AuthenticatedActionsValve.invoke http://localhost:8080/sso/login
2020-01-31 12:34:27,598 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-3] Policy enforcement is disabled.
2020-01-31 12:34:27,601 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-3] adminRequest http://localhost:8080/sso/login
2020-01-31 12:34:27,602 DEBUG org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter [http-nio-8080-exec-3] Request is to process authentication
2020-01-31 12:34:27,603 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter [http-nio-8080-exec-3] Attempting Keycloak authentication
2020-01-31 12:34:27,609 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-3] --> authenticate()
2020-01-31 12:34:27,611 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-3] try bearer
2020-01-31 12:34:27,614 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-3] try query paramter auth
2020-01-31 12:34:27,615 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-3] try oauth
2020-01-31 12:34:27,616 DEBUG org.keycloak.adapters.springsecurity.token.SpringSecurityTokenStore [http-nio-8080-exec-3] Checking if org.keycloak.adapters.springsecurity.authentication.SpringSecurityRequestAuthenticator@4371e393 is cached
2020-01-31 12:34:27,621 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-3] there was no code
2020-01-31 12:34:27,623 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-3] redirecting to auth server
2020-01-31 12:34:27,625 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-3] callback uri: http://localhost:8080/sso/login
2020-01-31 12:34:27,629 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter [http-nio-8080-exec-3] Auth outcome: NOT_ATTEMPTED
2020-01-31 12:34:27,630 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator$1 [http-nio-8080-exec-3] Sending redirect to login page: https://dss1.aegean.gr/auth/realms/test/protocol/openid-connect/auth?response_type=code&client_id=sealTest&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fsso%2Flogin&state=3d0185dd-31f2-4102-b845-410094607c1d&login=true&scope=openid
2020-01-31 12:34:52,677 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-4] adminRequest http://localhost:8080/sso/login?state=3d0185dd-31f2-4102-b845-410094607c1d&session_state=51328b38-cad3-4fa3-bb62-3daf33cbb03a&code=874c8536-220b-4ed0-a703-ec172863adcc.51328b38-cad3-4fa3-bb62-3daf33cbb03a.eceda444-e4a7-400e-8d2e-2cd2f59cb242
2020-01-31 12:34:52,678 DEBUG org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve [http-nio-8080-exec-4] AuthenticatedActionsValve.invoke /sso/login
2020-01-31 12:34:52,678 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-4] AuthenticatedActionsValve.invoke http://localhost:8080/sso/login?state=3d0185dd-31f2-4102-b845-410094607c1d&session_state=51328b38-cad3-4fa3-bb62-3daf33cbb03a&code=874c8536-220b-4ed0-a703-ec172863adcc.51328b38-cad3-4fa3-bb62-3daf33cbb03a.eceda444-e4a7-400e-8d2e-2cd2f59cb242
2020-01-31 12:34:52,679 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-4] Policy enforcement is disabled.
2020-01-31 12:34:52,679 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-4] adminRequest http://localhost:8080/sso/login?state=3d0185dd-31f2-4102-b845-410094607c1d&session_state=51328b38-cad3-4fa3-bb62-3daf33cbb03a&code=874c8536-220b-4ed0-a703-ec172863adcc.51328b38-cad3-4fa3-bb62-3daf33cbb03a.eceda444-e4a7-400e-8d2e-2cd2f59cb242
2020-01-31 12:34:52,680 DEBUG org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter [http-nio-8080-exec-4] Request is to process authentication
2020-01-31 12:34:52,680 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter [http-nio-8080-exec-4] Attempting Keycloak authentication
2020-01-31 12:34:52,680 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] --> authenticate()
2020-01-31 12:34:52,683 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] try bearer
2020-01-31 12:34:52,684 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] try query paramter auth
2020-01-31 12:34:52,686 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] try oauth
2020-01-31 12:34:52,687 DEBUG org.keycloak.adapters.springsecurity.token.SpringSecurityTokenStore [http-nio-8080-exec-4] Checking if org.keycloak.adapters.springsecurity.authentication.SpringSecurityRequestAuthenticator@66e63e33 is cached
2020-01-31 12:34:52,688 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] there was a code, resolving
2020-01-31 12:34:52,688 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] checking state cookie for after code
2020-01-31 12:34:52,690 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] ** reseting application state cookie
2020-01-31 12:34:53,510 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] Verifying tokens
2020-01-31 12:34:53,541 TRACE org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] 		access_token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKSVkyNENrb0YzbFAyS0ZBOTZrRnJ6dWp2TDlOQTVyRURSTDJFanlOa3hrIn0.eyJqdGkiOiI4Yjk2ZTY1NC1mZGY5LTQwMjMtYjdlMy04NzZhNjk4YTIzYTIiLCJleHAiOjE1ODA0NjcxOTMsIm5iZiI6MCwiaWF0IjoxNTgwNDY2ODkzLCJpc3MiOiJodHRwczovL2RzczEuYWVnZWFuLmdyL2F1dGgvcmVhbG1zL3Rlc3QiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiMWIzYzIxZDMtMThmOC00ZmE3LWEzZjgtODJjNDhkMGQxNWJiIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoic2VhbFRlc3QiLCJhdXRoX3RpbWUiOjE1ODA0NjY4OTIsInNlc3Npb25fc3RhdGUiOiI1MTMyOGIzOC1jYWQzLTRmYTMtYmI2Mi0zZGFmMzNjYmIwM2EiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6Im9wZW5pZCBlbWFpbCBwcm9maWxlIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm5hbWUiOiLOkc6dzpTOoc6VzpHOoywgQU5EUkVBUyDOoM6VzqTOoc6fzqUsIFBFVFJPVSIsInByZWZlcnJlZF91c2VybmFtZSI6ImdyL2dyL2VybWlzLTExMDc2NjY5IiwiZ2l2ZW5fbmFtZSI6Is6Rzp3OlM6hzpXOkc6jLCBBTkRSRUFTIiwiZmFtaWx5X25hbWUiOiLOoM6VzqTOoc6fzqUsIFBFVFJPVSIsImVtYWlsIjoiZ3IvZ3IvZXJtaXMtMTEwNzY2NjlAZWlkYXMuZ3IifQ.signature
2020-01-31 12:34:53,544 TRACE org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] 		id_token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKSVkyNENrb0YzbFAyS0ZBOTZrRnJ6dWp2TDlOQTVyRURSTDJFanlOa3hrIn0.eyJqdGkiOiI2YWRkMTQ3ZC0zNzBkLTQ1OWYtYTQ0MC01NjYxMjBiMjFmZTciLCJleHAiOjE1ODA0NjcxOTMsIm5iZiI6MCwiaWF0IjoxNTgwNDY2ODkzLCJpc3MiOiJodHRwczovL2RzczEuYWVnZWFuLmdyL2F1dGgvcmVhbG1zL3Rlc3QiLCJhdWQiOiJzZWFsVGVzdCIsInN1YiI6IjFiM2MyMWQzLTE4ZjgtNGZhNy1hM2Y4LTgyYzQ4ZDBkMTViYiIsInR5cCI6IklEIiwiYXpwIjoic2VhbFRlc3QiLCJhdXRoX3RpbWUiOjE1ODA0NjY4OTIsInNlc3Npb25fc3RhdGUiOiI1MTMyOGIzOC1jYWQzLTRmYTMtYmI2Mi0zZGFmMzNjYmIwM2EiLCJhY3IiOiIxIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm5hbWUiOiLOkc6dzpTOoc6VzpHOoywgQU5EUkVBUyDOoM6VzqTOoc6fzqUsIFBFVFJPVSIsInByZWZlcnJlZF91c2VybmFtZSI6ImdyL2dyL2VybWlzLTExMDc2NjY5IiwiZ2l2ZW5fbmFtZSI6Is6Rzp3OlM6hzpXOkc6jLCBBTkRSRUFTIiwiZmFtaWx5X25hbWUiOiLOoM6VzqTOoc6fzqUsIFBFVFJPVSIsImVtYWlsIjoiZ3IvZ3IvZXJtaXMtMTEwNzY2NjlAZWlkYXMuZ3IifQ.signature
2020-01-31 12:34:53,545 TRACE org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] 		refresh_token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2NGYzNjg4Ny1jMzYwLTQwYjItOTJhMi00ZDRlZDhmY2Q3ZWMifQ.eyJqdGkiOiI5NGM0OTYxNC1mYTk2LTQ3MTctOThlZi00ZTVlMmM1YWQ2OTYiLCJleHAiOjE1ODA0Njg2OTMsIm5iZiI6MCwiaWF0IjoxNTgwNDY2ODkzLCJpc3MiOiJodHRwczovL2RzczEuYWVnZWFuLmdyL2F1dGgvcmVhbG1zL3Rlc3QiLCJhdWQiOiJodHRwczovL2RzczEuYWVnZWFuLmdyL2F1dGgvcmVhbG1zL3Rlc3QiLCJzdWIiOiIxYjNjMjFkMy0xOGY4LTRmYTctYTNmOC04MmM0OGQwZDE1YmIiLCJ0eXAiOiJSZWZyZXNoIiwiYXpwIjoic2VhbFRlc3QiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiI1MTMyOGIzOC1jYWQzLTRmYTMtYmI2Mi0zZGFmMzNjYmIwM2EiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoib3BlbmlkIGVtYWlsIHByb2ZpbGUifQ.signature
2020-01-31 12:34:53,640 TRACE org.keycloak.adapters.rotation.JWKPublicKeyLocator [http-nio-8080-exec-4] Going to send request to retrieve new set of realm public keys for client sealTest
2020-01-31 12:34:53,703 DEBUG org.keycloak.adapters.rotation.JWKPublicKeyLocator [http-nio-8080-exec-4] Realm public keys successfully retrieved for client sealTest. New kids: [JIY24CkoF3lP2KFA96kFrzujvL9NA5rEDRL2EjyNkxk]
2020-01-31 12:34:53,722 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] Token Verification succeeded!
2020-01-31 12:34:53,723 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] successful authenticated
2020-01-31 12:34:53,725 TRACE org.keycloak.adapters.RefreshableKeycloakSecurityContext [http-nio-8080-exec-4] checking whether to refresh.
2020-01-31 12:34:53,730 TRACE org.keycloak.adapters.AdapterUtils [http-nio-8080-exec-4] use realm role mappings
2020-01-31 12:34:53,732 TRACE org.keycloak.adapters.AdapterUtils [http-nio-8080-exec-4] Setting roles: 
2020-01-31 12:34:53,733 TRACE org.keycloak.adapters.AdapterUtils [http-nio-8080-exec-4]    role: offline_access
2020-01-31 12:34:53,734 TRACE org.keycloak.adapters.AdapterUtils [http-nio-8080-exec-4]    role: uma_authorization
2020-01-31 12:34:53,740 DEBUG org.keycloak.adapters.springsecurity.token.SpringSecurityTokenStore [http-nio-8080-exec-4] Saving account info org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@14128bd4
2020-01-31 12:34:53,743 DEBUG org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] User 'gr/gr/ermis-11076669' invoking 'http://localhost:8080/sso/login?state=3d0185dd-31f2-4102-b845-410094607c1d&session_state=51328b38-cad3-4fa3-bb62-3daf33cbb03a&code=874c8536-220b-4ed0-a703-ec172863adcc.51328b38-cad3-4fa3-bb62-3daf33cbb03a.eceda444-e4a7-400e-8d2e-2cd2f59cb242' on client 'sealTest'
2020-01-31 12:34:53,744 DEBUG org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] AUTHENTICATED
2020-01-31 12:34:53,745 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter [http-nio-8080-exec-4] Auth outcome: AUTHENTICATED
2020-01-31 12:34:53,749 DEBUG org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter [http-nio-8080-exec-4] Authentication success. Updating SecurityContextHolder to contain: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@fbe7ff1d: Principal: gr/gr/ermis-11076669; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@14128bd4; Granted Authorities: ROLE_offline_access, ROLE_uma_authorization
2020-01-31 12:34:53,797 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-5] adminRequest http://localhost:8080/as/protected
2020-01-31 12:34:53,798 DEBUG org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve [http-nio-8080-exec-5] AuthenticatedActionsValve.invoke /as/protected
2020-01-31 12:34:53,798 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-5] AuthenticatedActionsValve.invoke http://localhost:8080/as/protected
2020-01-31 12:34:53,799 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-5] Policy enforcement is disabled.
2020-01-31 12:34:53,800 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-5] adminRequest http://localhost:8080/as/protected
2020-01-31 12:34:53,842 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-5] AuthenticatedActionsValve.invoke http://localhost:8080/as/protected
2020-01-31 12:34:53,843 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-5] Policy enforcement is disabled.
2020-01-31 12:34:53,844 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-5] adminRequest http://localhost:8080/as/protected
2020-01-31 12:34:53,848 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] Reached protected endpoint with sessionIdb74f9133-dda7-427c-b70f-97cbfbcb1bf2
2020-01-31 12:34:54,483 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] tried to retrieve session for b74f9133-dda7-427c-b70f-97cbfbcb1bf2
2020-01-31 12:34:54,484 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] getSession OK
2020-01-31 12:34:54,485 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] the callbackUrl for sessionId b74f9133-dda7-427c-b70f-97cbfbcb1bf2is https://www.test.com/callback!!!!!!!!!!!!
2020-01-31 12:34:54,740 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] updateSessionData OK
2020-01-31 12:34:54,741 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] session b74f9133-dda7-427c-b70f-97cbfbcb1bf2 updated Session succesfully  with user attributes {"id":"3ac30898-28b2-4102-b7ec-84e4f535dd4c","encryptedData":null,"signature":null,"signatureAlgorithm":null,"encryptionAlgorithm":null,"clearData":[{"id":"dd307a31-ba88-4b4a-a52f-8d9a91887dab","types":"eIDAS","categories":null,"issuerId":"eIDAS","subjectId":null,"loa":null,"issued":"Fri, 31 Jan 2020 10:34:54 GMT","expiration":null,"attributes":[{"name":"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName","friendlyName":"FamilyName","encoding":"UTF-8","language":"N/A","isMandatory":true,"values":["ΠΕΤΡΟΥ, PETROU"]},{"name":"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName","friendlyName":"GivenName","encoding":"UTF-8","language":"N/A","isMandatory":true,"values":["ΑΝΔΡΕΑΣ, ANDREAS ΠΕΤΡΟΥ, PETROU"]},{"name":"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth","friendlyName":"DateOfBirth","encoding":"UTF-8","language":"N/A","isMandatory":true,"values":["ΑΝΔΡΕΑΣ, ANDREAS ΠΕΤΡΟΥ, PETROU"]},{"name":"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier","friendlyName":"PersonIdentifier","encoding":"UTF-8","language":"N/A","isMandatory":true,"values":[null]},{"name":"http://eidas.europa.eu/LoA","friendlyName":"LevelOfAssurance","encoding":"UTF-8","language":"N/A","isMandatory":true,"values":[null]}],"additionalProperties":null,"properties":null}]}
2020-01-31 12:34:54,741 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] session b74f9133-dda7-427c-b70f-97cbfbcb1bf2 updated succesfully with user attributes EidasUser{loa=nullprofileName=ΑΝΔΡΕΑΣ, ANDREAS, eid=gr/gr/ermis-11076669, currentGivenName=ΑΝΔΡΕΑΣ, ANDREAS ΠΕΤΡΟΥ, PETROU, currentFamilyName=ΠΕΤΡΟΥ, PETROU, personIdentifier=null, dateOfBirth=null, gender=null}
2020-01-31 12:36:24,139 INFO org.springframework.boot.StartupInfoLogger [main] Starting LoginWebAppApplication on nikos with PID 22301 (/home/nikos/NetBeansProjects/seal.eidas.idp/target/classes started by nikos in /home/nikos/NetBeansProjects/seal.eidas.idp)
2020-01-31 12:36:24,147 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-31 12:36:25,832 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-01-31 12:36:25,847 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-31 12:36:25,848 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-31 12:36:25,848 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-01-31 12:36:25,953 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-31 12:36:25,953 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1667 ms
2020-01-31 12:36:26,202 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakSecurityContextRequestFilter' configured for use
2020-01-31 12:36:26,203 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakAuthenticationProcessingFilter' configured for use
2020-01-31 12:36:26,204 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakPreAuthActionsFilter' configured for use
2020-01-31 12:36:26,205 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakAuthenticatedActionsRequestFilter' configured for use
2020-01-31 12:36:26,207 DEBUG org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve [main] Using org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver to resolve Keycloak configuration on a per-request basis.
2020-01-31 12:36:26,304 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'protectedControllers': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.cache.CacheManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2020-01-31 12:36:26,305 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter [main] Unregistering deployment
2020-01-31 12:36:26,310 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2020-01-31 12:36:26,312 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter [main] Unregistering deployment
2020-01-31 12:36:26,326 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-31 12:36:26,450 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field cacheManager in gr.uagean.loginWebApp.controllers.ProtectedControllers required a bean of type 'org.springframework.cache.CacheManager' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)

The following candidates were found but could not be injected:
	- Bean method 'cacheManager' in 'CaffeineCacheConfiguration' not loaded because @ConditionalOnClass did not find required class 'com.github.benmanes.caffeine.cache.Caffeine'
	- Bean method 'cacheManager' in 'EhCacheCacheConfiguration' not loaded because @ConditionalOnClass did not find required class 'net.sf.ehcache.Cache'
	- Bean method 'cacheManager' in 'JCacheCacheConfiguration' not loaded because @ConditionalOnClass did not find required class 'javax.cache.Caching'


Action:

Consider revisiting the entries above or defining a bean of type 'org.springframework.cache.CacheManager' in your configuration.

2020-01-31 12:36:31,950 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos with PID 22366 (started by nikos in /home/nikos/NetBeansProjects/seal.eidas.idp)
2020-01-31 12:36:31,953 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2020-01-31 12:36:33,734 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'protectedControllers': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.cache.CacheManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2020-01-31 12:36:33,744 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-31 12:36:33,842 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field cacheManager in gr.uagean.loginWebApp.controllers.ProtectedControllers required a bean of type 'org.springframework.cache.CacheManager' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)

The following candidates were found but could not be injected:
	- Bean method 'cacheManager' in 'CaffeineCacheConfiguration' not loaded because @ConditionalOnClass did not find required class 'com.github.benmanes.caffeine.cache.Caffeine'
	- Bean method 'cacheManager' in 'EhCacheCacheConfiguration' not loaded because @ConditionalOnClass did not find required class 'net.sf.ehcache.Cache'
	- Bean method 'cacheManager' in 'JCacheCacheConfiguration' not loaded because @ConditionalOnClass did not find required class 'javax.cache.Caching'


Action:

Consider revisiting the entries above or defining a bean of type 'org.springframework.cache.CacheManager' in your configuration.

2020-01-31 12:36:33,846 ERROR org.springframework.test.context.TestContextManager [main] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@4f2b503c] to prepare test instance [gr.uaegean.loginWebApp.integration.TestSessisonManagerConnection@194d329e]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:40)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:71)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'protectedControllers': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.cache.CacheManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:125)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 45 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.cache.CacheManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1695)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1253)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	... 63 common frames omitted
2020-01-31 12:37:49,516 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos with PID 22450 (started by nikos in /home/nikos/NetBeansProjects/seal.eidas.idp)
2020-01-31 12:37:49,520 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2020-01-31 12:37:51,250 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'restControllers': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.cache.CacheManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2020-01-31 12:37:51,263 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-01-31 12:37:51,373 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field cacheManager in gr.uagean.loginWebApp.controllers.RestControllers required a bean of type 'org.springframework.cache.CacheManager' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)

The following candidates were found but could not be injected:
	- Bean method 'cacheManager' in 'CaffeineCacheConfiguration' not loaded because @ConditionalOnClass did not find required class 'com.github.benmanes.caffeine.cache.Caffeine'
	- Bean method 'cacheManager' in 'EhCacheCacheConfiguration' not loaded because @ConditionalOnClass did not find required class 'net.sf.ehcache.Cache'
	- Bean method 'cacheManager' in 'JCacheCacheConfiguration' not loaded because @ConditionalOnClass did not find required class 'javax.cache.Caching'


Action:

Consider revisiting the entries above or defining a bean of type 'org.springframework.cache.CacheManager' in your configuration.

2020-01-31 12:37:51,376 ERROR org.springframework.test.context.TestContextManager [main] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@d5b810e] to prepare test instance [gr.uaegean.loginWebApp.integration.TestSessisonManagerConnection@3c50ad4b]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:40)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:71)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'restControllers': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.cache.CacheManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:125)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 45 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.cache.CacheManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1695)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1253)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	... 63 common frames omitted
2020-01-31 12:39:00,790 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestSessisonManagerConnection on nikos with PID 22571 (started by nikos in /home/nikos/NetBeansProjects/seal.eidas.idp)
2020-01-31 12:39:00,793 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: test
2020-01-31 12:39:02,937 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ed4a7e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b5a1d85, org.springframework.security.web.header.HeaderWriterFilter@28237492, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@1c7350b0, org.springframework.security.web.authentication.logout.LogoutFilter@69f0b0f4, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@55651434, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54755dd9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6fc1020a, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@3bc4ef12, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@50448409, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5634a861, org.springframework.security.web.session.SessionManagementFilter@7da31a40, org.springframework.security.web.access.ExceptionTranslationFilter@633cc6b5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@29b40b3]
2020-01-31 12:39:03,416 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-31 12:39:03,809 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-01-31 12:39:03,810 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-01-31 12:39:03,822 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 12 ms
2020-01-31 12:39:03,852 INFO org.springframework.boot.StartupInfoLogger [main] Started TestSessisonManagerConnection in 3.524 seconds (JVM running for 4.515)
2020-01-31 12:39:05,866 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-01-31 12:39:05,867 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter [SpringContextShutdownHook] Unregistering deployment
2020-01-31 12:39:21,595 INFO org.springframework.boot.StartupInfoLogger [main] Starting LoginWebAppApplication on nikos with PID 22644 (/home/nikos/NetBeansProjects/seal.eidas.idp/target/classes started by nikos in /home/nikos/NetBeansProjects/seal.eidas.idp)
2020-01-31 12:39:21,602 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2020-01-31 12:39:23,386 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-01-31 12:39:23,431 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-01-31 12:39:23,432 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-01-31 12:39:23,433 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-01-31 12:39:23,529 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-01-31 12:39:23,530 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1773 ms
2020-01-31 12:39:23,718 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakSecurityContextRequestFilter' configured for use
2020-01-31 12:39:23,719 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakAuthenticationProcessingFilter' configured for use
2020-01-31 12:39:23,720 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakPreAuthActionsFilter' configured for use
2020-01-31 12:39:23,721 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'keycloakAuthenticatedActionsRequestFilter' configured for use
2020-01-31 12:39:23,723 DEBUG org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve [main] Using org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver to resolve Keycloak configuration on a per-request basis.
2020-01-31 12:39:24,158 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@760487aa, org.springframework.security.web.context.SecurityContextPersistenceFilter@318c68d5, org.springframework.security.web.header.HeaderWriterFilter@7e91ed74, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@17ba57f0, org.springframework.security.web.authentication.logout.LogoutFilter@270d43a7, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@1fc713c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@321ca237, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76536c53, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@79518e00, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@3c91530d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1526f71, org.springframework.security.web.session.SessionManagementFilter@7df28f1, org.springframework.security.web.access.ExceptionTranslationFilter@3850e90c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1c52552f]
2020-01-31 12:39:24,284 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-01-31 12:39:24,528 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-01-31 12:39:24,569 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-01-31 12:39:24,583 INFO org.springframework.boot.StartupInfoLogger [main] Started LoginWebAppApplication in 3.674 seconds (JVM running for 4.216)
2020-01-31 12:39:37,092 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-1] adminRequest http://localhost:8080/as/authenticate?msToken=eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uSWQiOiI3NjMxN2E3OC0wM2Y4LTQxMGYtYjQ2Ny0xYzRkNDNlZTQ3M2YiLCJzZW5kZXIiOiJBQ01tczAwMSIsInJlY2VpdmVyIjoiQVBtczAwMyIsImlzcyI6IiIsImp0aSI6ImY2YjNkODg1LWVmOTQtNDJkZi04MzcyLTgzOTA5NmFkMWY0OSIsImlhdCI6MTU4MDQ2NzE0NSwiZXhwIjoxNTgwNDY3NDQ1fQ.P5kpxaaHECTp1-KzJbmJJjeu97uFdCva3A2dYSSTV-FuZOOKDiiW0DVDh_l7cKBXyhWdImaO6ncz9OEaL1jmlH8aeKiEXdl71gGAvSfVjI_gk8rtWL14F7LMpiWpaPCGHXsnfHyQOCGZg7lc4_5CHDrT63IM9QICm4FDYbCtou2UzIEnoq4Xp9zB8EMt7HGMyWRrLyG1KcDniet-0z552_xU7o8IbfRw1zIFhFa9tM-nI2l3qghG6Bs-Qm7QlqwJr4mutxPjnlvRnTA9GNnAfsjRad97d5Ws__Y8cW53Dstyj8MAzq1lyqaevjPqvuaU-f8DDKQ6qWdnvx9LLXlYMg
2020-01-31 12:39:37,098 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Using provider 'secret' for authentication of client 'sealTest'
2020-01-31 12:39:37,101 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret
2020-01-31 12:39:37,103 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider jwt
2020-01-31 12:39:37,104 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret-jwt
2020-01-31 12:39:37,107 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret
2020-01-31 12:39:37,108 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider jwt
2020-01-31 12:39:37,109 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret-jwt
2020-01-31 12:39:37,116 DEBUG org.keycloak.adapters.KeycloakDeployment [http-nio-8080-exec-1] resolveUrls
2020-01-31 12:39:37,119 DEBUG org.keycloak.adapters.KeycloakDeploymentBuilder [http-nio-8080-exec-1] Use authServerUrl: https://dss1.aegean.gr/auth, tokenUrl: https://dss1.aegean.gr/auth/realms/test/protocol/openid-connect/token, relativeUrls: NEVER
2020-01-31 12:39:37,128 DEBUG org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve [http-nio-8080-exec-1] AuthenticatedActionsValve.invoke /as/authenticate
2020-01-31 12:39:37,129 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-1] AuthenticatedActionsValve.invoke http://localhost:8080/as/authenticate?msToken=eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uSWQiOiI3NjMxN2E3OC0wM2Y4LTQxMGYtYjQ2Ny0xYzRkNDNlZTQ3M2YiLCJzZW5kZXIiOiJBQ01tczAwMSIsInJlY2VpdmVyIjoiQVBtczAwMyIsImlzcyI6IiIsImp0aSI6ImY2YjNkODg1LWVmOTQtNDJkZi04MzcyLTgzOTA5NmFkMWY0OSIsImlhdCI6MTU4MDQ2NzE0NSwiZXhwIjoxNTgwNDY3NDQ1fQ.P5kpxaaHECTp1-KzJbmJJjeu97uFdCva3A2dYSSTV-FuZOOKDiiW0DVDh_l7cKBXyhWdImaO6ncz9OEaL1jmlH8aeKiEXdl71gGAvSfVjI_gk8rtWL14F7LMpiWpaPCGHXsnfHyQOCGZg7lc4_5CHDrT63IM9QICm4FDYbCtou2UzIEnoq4Xp9zB8EMt7HGMyWRrLyG1KcDniet-0z552_xU7o8IbfRw1zIFhFa9tM-nI2l3qghG6Bs-Qm7QlqwJr4mutxPjnlvRnTA9GNnAfsjRad97d5Ws__Y8cW53Dstyj8MAzq1lyqaevjPqvuaU-f8DDKQ6qWdnvx9LLXlYMg
2020-01-31 12:39:37,130 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-1] Policy enforcement is disabled.
2020-01-31 12:39:37,133 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-01-31 12:39:37,133 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-01-31 12:39:37,141 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 7 ms
2020-01-31 12:39:37,168 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Using provider 'secret' for authentication of client 'sealTest'
2020-01-31 12:39:37,170 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret
2020-01-31 12:39:37,170 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider jwt
2020-01-31 12:39:37,171 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret-jwt
2020-01-31 12:39:37,172 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret
2020-01-31 12:39:37,173 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider jwt
2020-01-31 12:39:37,173 DEBUG org.keycloak.adapters.authentication.ClientCredentialsProviderUtils [http-nio-8080-exec-1] Loaded clientCredentialsProvider secret-jwt
2020-01-31 12:39:37,174 DEBUG org.keycloak.adapters.KeycloakDeployment [http-nio-8080-exec-1] resolveUrls
2020-01-31 12:39:37,175 DEBUG org.keycloak.adapters.KeycloakDeploymentBuilder [http-nio-8080-exec-1] Use authServerUrl: https://dss1.aegean.gr/auth, tokenUrl: https://dss1.aegean.gr/auth/realms/test/protocol/openid-connect/token, relativeUrls: NEVER
2020-01-31 12:39:37,177 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-1] adminRequest http://localhost:8080/as/authenticate?msToken=eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uSWQiOiI3NjMxN2E3OC0wM2Y4LTQxMGYtYjQ2Ny0xYzRkNDNlZTQ3M2YiLCJzZW5kZXIiOiJBQ01tczAwMSIsInJlY2VpdmVyIjoiQVBtczAwMyIsImlzcyI6IiIsImp0aSI6ImY2YjNkODg1LWVmOTQtNDJkZi04MzcyLTgzOTA5NmFkMWY0OSIsImlhdCI6MTU4MDQ2NzE0NSwiZXhwIjoxNTgwNDY3NDQ1fQ.P5kpxaaHECTp1-KzJbmJJjeu97uFdCva3A2dYSSTV-FuZOOKDiiW0DVDh_l7cKBXyhWdImaO6ncz9OEaL1jmlH8aeKiEXdl71gGAvSfVjI_gk8rtWL14F7LMpiWpaPCGHXsnfHyQOCGZg7lc4_5CHDrT63IM9QICm4FDYbCtou2UzIEnoq4Xp9zB8EMt7HGMyWRrLyG1KcDniet-0z552_xU7o8IbfRw1zIFhFa9tM-nI2l3qghG6Bs-Qm7QlqwJr4mutxPjnlvRnTA9GNnAfsjRad97d5Ws__Y8cW53Dstyj8MAzq1lyqaevjPqvuaU-f8DDKQ6qWdnvx9LLXlYMg
2020-01-31 12:39:37,187 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-1] adminRequest http://localhost:8080/as/authenticate?msToken=eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uSWQiOiI3NjMxN2E3OC0wM2Y4LTQxMGYtYjQ2Ny0xYzRkNDNlZTQ3M2YiLCJzZW5kZXIiOiJBQ01tczAwMSIsInJlY2VpdmVyIjoiQVBtczAwMyIsImlzcyI6IiIsImp0aSI6ImY2YjNkODg1LWVmOTQtNDJkZi04MzcyLTgzOTA5NmFkMWY0OSIsImlhdCI6MTU4MDQ2NzE0NSwiZXhwIjoxNTgwNDY3NDQ1fQ.P5kpxaaHECTp1-KzJbmJJjeu97uFdCva3A2dYSSTV-FuZOOKDiiW0DVDh_l7cKBXyhWdImaO6ncz9OEaL1jmlH8aeKiEXdl71gGAvSfVjI_gk8rtWL14F7LMpiWpaPCGHXsnfHyQOCGZg7lc4_5CHDrT63IM9QICm4FDYbCtou2UzIEnoq4Xp9zB8EMt7HGMyWRrLyG1KcDniet-0z552_xU7o8IbfRw1zIFhFa9tM-nI2l3qghG6Bs-Qm7QlqwJr4mutxPjnlvRnTA9GNnAfsjRad97d5Ws__Y8cW53Dstyj8MAzq1lyqaevjPqvuaU-f8DDKQ6qWdnvx9LLXlYMg
2020-01-31 12:39:37,221 INFO gr.uagean.loginWebApp.controllers.RestControllers [http-nio-8080-exec-1] got the token:eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uSWQiOiI3NjMxN2E3OC0wM2Y4LTQxMGYtYjQ2Ny0xYzRkNDNlZTQ3M2YiLCJzZW5kZXIiOiJBQ01tczAwMSIsInJlY2VpdmVyIjoiQVBtczAwMyIsImlzcyI6IiIsImp0aSI6ImY2YjNkODg1LWVmOTQtNDJkZi04MzcyLTgzOTA5NmFkMWY0OSIsImlhdCI6MTU4MDQ2NzE0NSwiZXhwIjoxNTgwNDY3NDQ1fQ.P5kpxaaHECTp1-KzJbmJJjeu97uFdCva3A2dYSSTV-FuZOOKDiiW0DVDh_l7cKBXyhWdImaO6ncz9OEaL1jmlH8aeKiEXdl71gGAvSfVjI_gk8rtWL14F7LMpiWpaPCGHXsnfHyQOCGZg7lc4_5CHDrT63IM9QICm4FDYbCtou2UzIEnoq4Xp9zB8EMt7HGMyWRrLyG1KcDniet-0z552_xU7o8IbfRw1zIFhFa9tM-nI2l3qghG6Bs-Qm7QlqwJr4mutxPjnlvRnTA9GNnAfsjRad97d5Ws__Y8cW53Dstyj8MAzq1lyqaevjPqvuaU-f8DDKQ6qWdnvx9LLXlYMg
2020-01-31 12:39:38,403 INFO gr.uagean.loginWebApp.controllers.RestControllers [http-nio-8080-exec-1] got the responseCode:OK
2020-01-31 12:39:39,562 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-2] adminRequest http://localhost:8080/as/protected
2020-01-31 12:39:39,563 DEBUG org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve [http-nio-8080-exec-2] AuthenticatedActionsValve.invoke /as/protected
2020-01-31 12:39:39,563 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-2] AuthenticatedActionsValve.invoke http://localhost:8080/as/protected
2020-01-31 12:39:39,563 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-2] Policy enforcement is disabled.
2020-01-31 12:39:39,564 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-2] adminRequest http://localhost:8080/as/protected
2020-01-31 12:39:39,613 DEBUG org.keycloak.adapters.springsecurity.management.HttpSessionManager [http-nio-8080-exec-2] Session created: CF01953FCB8A63B975E2435809ACC421
2020-01-31 12:39:39,615 DEBUG org.keycloak.adapters.springsecurity.authentication.KeycloakAuthenticationEntryPoint [http-nio-8080-exec-2] Redirecting to login URI /sso/login
2020-01-31 12:39:39,624 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-3] adminRequest http://localhost:8080/sso/login
2020-01-31 12:39:39,626 DEBUG org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve [http-nio-8080-exec-3] AuthenticatedActionsValve.invoke /sso/login
2020-01-31 12:39:39,626 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-3] AuthenticatedActionsValve.invoke http://localhost:8080/sso/login
2020-01-31 12:39:39,626 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-3] Policy enforcement is disabled.
2020-01-31 12:39:39,627 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-3] adminRequest http://localhost:8080/sso/login
2020-01-31 12:39:39,628 DEBUG org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter [http-nio-8080-exec-3] Request is to process authentication
2020-01-31 12:39:39,628 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter [http-nio-8080-exec-3] Attempting Keycloak authentication
2020-01-31 12:39:39,638 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-3] --> authenticate()
2020-01-31 12:39:39,644 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-3] try bearer
2020-01-31 12:39:39,648 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-3] try query paramter auth
2020-01-31 12:39:39,649 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-3] try oauth
2020-01-31 12:39:39,650 DEBUG org.keycloak.adapters.springsecurity.token.SpringSecurityTokenStore [http-nio-8080-exec-3] Checking if org.keycloak.adapters.springsecurity.authentication.SpringSecurityRequestAuthenticator@4fba27a8 is cached
2020-01-31 12:39:39,653 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-3] there was no code
2020-01-31 12:39:39,653 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-3] redirecting to auth server
2020-01-31 12:39:39,655 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-3] callback uri: http://localhost:8080/sso/login
2020-01-31 12:39:39,660 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter [http-nio-8080-exec-3] Auth outcome: NOT_ATTEMPTED
2020-01-31 12:39:39,661 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator$1 [http-nio-8080-exec-3] Sending redirect to login page: https://dss1.aegean.gr/auth/realms/test/protocol/openid-connect/auth?response_type=code&client_id=sealTest&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fsso%2Flogin&state=76e6f92f-4a70-43b5-89cb-3216b5e164c0&login=true&scope=openid
2020-01-31 12:40:00,862 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-4] adminRequest http://localhost:8080/sso/login?state=76e6f92f-4a70-43b5-89cb-3216b5e164c0&session_state=51328b38-cad3-4fa3-bb62-3daf33cbb03a&code=eb29e527-a69a-4dd2-94fc-37c08c963766.51328b38-cad3-4fa3-bb62-3daf33cbb03a.eceda444-e4a7-400e-8d2e-2cd2f59cb242
2020-01-31 12:40:00,863 DEBUG org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve [http-nio-8080-exec-4] AuthenticatedActionsValve.invoke /sso/login
2020-01-31 12:40:00,865 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-4] AuthenticatedActionsValve.invoke http://localhost:8080/sso/login?state=76e6f92f-4a70-43b5-89cb-3216b5e164c0&session_state=51328b38-cad3-4fa3-bb62-3daf33cbb03a&code=eb29e527-a69a-4dd2-94fc-37c08c963766.51328b38-cad3-4fa3-bb62-3daf33cbb03a.eceda444-e4a7-400e-8d2e-2cd2f59cb242
2020-01-31 12:40:00,867 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-4] Policy enforcement is disabled.
2020-01-31 12:40:00,870 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-4] adminRequest http://localhost:8080/sso/login?state=76e6f92f-4a70-43b5-89cb-3216b5e164c0&session_state=51328b38-cad3-4fa3-bb62-3daf33cbb03a&code=eb29e527-a69a-4dd2-94fc-37c08c963766.51328b38-cad3-4fa3-bb62-3daf33cbb03a.eceda444-e4a7-400e-8d2e-2cd2f59cb242
2020-01-31 12:40:00,872 DEBUG org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter [http-nio-8080-exec-4] Request is to process authentication
2020-01-31 12:40:00,874 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter [http-nio-8080-exec-4] Attempting Keycloak authentication
2020-01-31 12:40:00,876 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] --> authenticate()
2020-01-31 12:40:00,877 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] try bearer
2020-01-31 12:40:00,879 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] try query paramter auth
2020-01-31 12:40:00,880 TRACE org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] try oauth
2020-01-31 12:40:00,882 DEBUG org.keycloak.adapters.springsecurity.token.SpringSecurityTokenStore [http-nio-8080-exec-4] Checking if org.keycloak.adapters.springsecurity.authentication.SpringSecurityRequestAuthenticator@2b01b08b is cached
2020-01-31 12:40:00,884 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] there was a code, resolving
2020-01-31 12:40:00,886 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] checking state cookie for after code
2020-01-31 12:40:00,889 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] ** reseting application state cookie
2020-01-31 12:40:01,470 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] Verifying tokens
2020-01-31 12:40:01,496 TRACE org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] 		access_token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKSVkyNENrb0YzbFAyS0ZBOTZrRnJ6dWp2TDlOQTVyRURSTDJFanlOa3hrIn0.eyJqdGkiOiIzYzQwY2QyNC0xOGQzLTRiYmEtYTE4ZS04NzAwZTE2NWQ3ODciLCJleHAiOjE1ODA0Njc1MDEsIm5iZiI6MCwiaWF0IjoxNTgwNDY3MjAxLCJpc3MiOiJodHRwczovL2RzczEuYWVnZWFuLmdyL2F1dGgvcmVhbG1zL3Rlc3QiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiMWIzYzIxZDMtMThmOC00ZmE3LWEzZjgtODJjNDhkMGQxNWJiIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoic2VhbFRlc3QiLCJhdXRoX3RpbWUiOjE1ODA0NjcyMDAsInNlc3Npb25fc3RhdGUiOiI1MTMyOGIzOC1jYWQzLTRmYTMtYmI2Mi0zZGFmMzNjYmIwM2EiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6Im9wZW5pZCBlbWFpbCBwcm9maWxlIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm5hbWUiOiLOkc6dzpTOoc6VzpHOoywgQU5EUkVBUyDOoM6VzqTOoc6fzqUsIFBFVFJPVSIsInByZWZlcnJlZF91c2VybmFtZSI6ImdyL2dyL2VybWlzLTExMDc2NjY5IiwiZ2l2ZW5fbmFtZSI6Is6Rzp3OlM6hzpXOkc6jLCBBTkRSRUFTIiwiZmFtaWx5X25hbWUiOiLOoM6VzqTOoc6fzqUsIFBFVFJPVSIsImVtYWlsIjoiZ3IvZ3IvZXJtaXMtMTEwNzY2NjlAZWlkYXMuZ3IifQ.signature
2020-01-31 12:40:01,498 TRACE org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] 		id_token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKSVkyNENrb0YzbFAyS0ZBOTZrRnJ6dWp2TDlOQTVyRURSTDJFanlOa3hrIn0.eyJqdGkiOiIyNWFhMGI0Zi0zZGE3LTRiMTAtOWUxYS03MWRhM2YxOTA0Y2EiLCJleHAiOjE1ODA0Njc1MDEsIm5iZiI6MCwiaWF0IjoxNTgwNDY3MjAxLCJpc3MiOiJodHRwczovL2RzczEuYWVnZWFuLmdyL2F1dGgvcmVhbG1zL3Rlc3QiLCJhdWQiOiJzZWFsVGVzdCIsInN1YiI6IjFiM2MyMWQzLTE4ZjgtNGZhNy1hM2Y4LTgyYzQ4ZDBkMTViYiIsInR5cCI6IklEIiwiYXpwIjoic2VhbFRlc3QiLCJhdXRoX3RpbWUiOjE1ODA0NjcyMDAsInNlc3Npb25fc3RhdGUiOiI1MTMyOGIzOC1jYWQzLTRmYTMtYmI2Mi0zZGFmMzNjYmIwM2EiLCJhY3IiOiIxIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm5hbWUiOiLOkc6dzpTOoc6VzpHOoywgQU5EUkVBUyDOoM6VzqTOoc6fzqUsIFBFVFJPVSIsInByZWZlcnJlZF91c2VybmFtZSI6ImdyL2dyL2VybWlzLTExMDc2NjY5IiwiZ2l2ZW5fbmFtZSI6Is6Rzp3OlM6hzpXOkc6jLCBBTkRSRUFTIiwiZmFtaWx5X25hbWUiOiLOoM6VzqTOoc6fzqUsIFBFVFJPVSIsImVtYWlsIjoiZ3IvZ3IvZXJtaXMtMTEwNzY2NjlAZWlkYXMuZ3IifQ.signature
2020-01-31 12:40:01,501 TRACE org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] 		refresh_token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2NGYzNjg4Ny1jMzYwLTQwYjItOTJhMi00ZDRlZDhmY2Q3ZWMifQ.eyJqdGkiOiJkMmNhMmMyMy0xODFhLTQ2YTEtYTI5ZS1iOGU0NmM0ZWFhOWIiLCJleHAiOjE1ODA0NjkwMDEsIm5iZiI6MCwiaWF0IjoxNTgwNDY3MjAxLCJpc3MiOiJodHRwczovL2RzczEuYWVnZWFuLmdyL2F1dGgvcmVhbG1zL3Rlc3QiLCJhdWQiOiJodHRwczovL2RzczEuYWVnZWFuLmdyL2F1dGgvcmVhbG1zL3Rlc3QiLCJzdWIiOiIxYjNjMjFkMy0xOGY4LTRmYTctYTNmOC04MmM0OGQwZDE1YmIiLCJ0eXAiOiJSZWZyZXNoIiwiYXpwIjoic2VhbFRlc3QiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiI1MTMyOGIzOC1jYWQzLTRmYTMtYmI2Mi0zZGFmMzNjYmIwM2EiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoib3BlbmlkIGVtYWlsIHByb2ZpbGUifQ.signature
2020-01-31 12:40:01,558 TRACE org.keycloak.adapters.rotation.JWKPublicKeyLocator [http-nio-8080-exec-4] Going to send request to retrieve new set of realm public keys for client sealTest
2020-01-31 12:40:01,625 DEBUG org.keycloak.adapters.rotation.JWKPublicKeyLocator [http-nio-8080-exec-4] Realm public keys successfully retrieved for client sealTest. New kids: [JIY24CkoF3lP2KFA96kFrzujvL9NA5rEDRL2EjyNkxk]
2020-01-31 12:40:01,658 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] Token Verification succeeded!
2020-01-31 12:40:01,660 DEBUG org.keycloak.adapters.OAuthRequestAuthenticator [http-nio-8080-exec-4] successful authenticated
2020-01-31 12:40:01,667 TRACE org.keycloak.adapters.RefreshableKeycloakSecurityContext [http-nio-8080-exec-4] checking whether to refresh.
2020-01-31 12:40:01,670 TRACE org.keycloak.adapters.AdapterUtils [http-nio-8080-exec-4] use realm role mappings
2020-01-31 12:40:01,677 TRACE org.keycloak.adapters.AdapterUtils [http-nio-8080-exec-4] Setting roles: 
2020-01-31 12:40:01,679 TRACE org.keycloak.adapters.AdapterUtils [http-nio-8080-exec-4]    role: offline_access
2020-01-31 12:40:01,680 TRACE org.keycloak.adapters.AdapterUtils [http-nio-8080-exec-4]    role: uma_authorization
2020-01-31 12:40:01,682 DEBUG org.keycloak.adapters.springsecurity.token.SpringSecurityTokenStore [http-nio-8080-exec-4] Saving account info org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@11ea39ad
2020-01-31 12:40:01,688 DEBUG org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] User 'gr/gr/ermis-11076669' invoking 'http://localhost:8080/sso/login?state=76e6f92f-4a70-43b5-89cb-3216b5e164c0&session_state=51328b38-cad3-4fa3-bb62-3daf33cbb03a&code=eb29e527-a69a-4dd2-94fc-37c08c963766.51328b38-cad3-4fa3-bb62-3daf33cbb03a.eceda444-e4a7-400e-8d2e-2cd2f59cb242' on client 'sealTest'
2020-01-31 12:40:01,691 DEBUG org.keycloak.adapters.RequestAuthenticator [http-nio-8080-exec-4] AUTHENTICATED
2020-01-31 12:40:01,695 DEBUG org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter [http-nio-8080-exec-4] Auth outcome: AUTHENTICATED
2020-01-31 12:40:01,711 DEBUG org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter [http-nio-8080-exec-4] Authentication success. Updating SecurityContextHolder to contain: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@d7349dd6: Principal: gr/gr/ermis-11076669; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@11ea39ad; Granted Authorities: ROLE_offline_access, ROLE_uma_authorization
2020-01-31 12:40:01,726 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-5] adminRequest http://localhost:8080/as/protected
2020-01-31 12:40:01,728 DEBUG org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve [http-nio-8080-exec-5] AuthenticatedActionsValve.invoke /as/protected
2020-01-31 12:40:01,729 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-5] AuthenticatedActionsValve.invoke http://localhost:8080/as/protected
2020-01-31 12:40:01,730 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-5] Policy enforcement is disabled.
2020-01-31 12:40:01,730 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-5] adminRequest http://localhost:8080/as/protected
2020-01-31 12:40:01,739 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-5] AuthenticatedActionsValve.invoke http://localhost:8080/as/protected
2020-01-31 12:40:01,740 DEBUG org.keycloak.adapters.AuthenticatedActionsHandler [http-nio-8080-exec-5] Policy enforcement is disabled.
2020-01-31 12:40:01,746 DEBUG org.keycloak.adapters.PreAuthActionsHandler [http-nio-8080-exec-5] adminRequest http://localhost:8080/as/protected
2020-01-31 12:40:01,774 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] Reached protected endpoint with sessionId76317a78-03f8-410f-b467-1c4d43ee473f
2020-01-31 12:40:02,425 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] tried to retrieve session for 76317a78-03f8-410f-b467-1c4d43ee473f
2020-01-31 12:40:02,426 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] getSession OK
2020-01-31 12:40:02,426 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] the callbackUrl for sessionId 76317a78-03f8-410f-b467-1c4d43ee473fis https://www.test.com/callback!!!!!!!!!!!!
2020-01-31 12:40:02,612 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] updateSessionData OK
2020-01-31 12:40:02,612 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] session 76317a78-03f8-410f-b467-1c4d43ee473f updated Session succesfully  with user attributes {"id":"4ffcea99-78be-4f27-9a7f-68198c24c3c7","encryptedData":null,"signature":null,"signatureAlgorithm":null,"encryptionAlgorithm":null,"clearData":[{"id":"8c41ec4f-91e1-4b23-8527-8654d8b06b6e","types":"eIDAS","categories":null,"issuerId":"eIDAS","subjectId":null,"loa":null,"issued":"Fri, 31 Jan 2020 10:40:02 GMT","expiration":null,"attributes":[{"name":"http://eidas.europa.eu/attributes/naturalperson/CurrentFamilyName","friendlyName":"FamilyName","encoding":"UTF-8","language":"N/A","isMandatory":true,"values":["ΠΕΤΡΟΥ, PETROU"]},{"name":"http://eidas.europa.eu/attributes/naturalperson/CurrentGivenName","friendlyName":"GivenName","encoding":"UTF-8","language":"N/A","isMandatory":true,"values":["ΑΝΔΡΕΑΣ, ANDREAS ΠΕΤΡΟΥ, PETROU"]},{"name":"http://eidas.europa.eu/attributes/naturalperson/DateOfBirth","friendlyName":"DateOfBirth","encoding":"UTF-8","language":"N/A","isMandatory":true,"values":["ΑΝΔΡΕΑΣ, ANDREAS ΠΕΤΡΟΥ, PETROU"]},{"name":"http://eidas.europa.eu/attributes/naturalperson/PersonIdentifier","friendlyName":"PersonIdentifier","encoding":"UTF-8","language":"N/A","isMandatory":true,"values":[null]},{"name":"http://eidas.europa.eu/LoA","friendlyName":"LevelOfAssurance","encoding":"UTF-8","language":"N/A","isMandatory":true,"values":[null]}],"additionalProperties":null,"properties":null}]}
2020-01-31 12:40:02,613 INFO gr.uagean.loginWebApp.controllers.ProtectedControllers [http-nio-8080-exec-5] session 76317a78-03f8-410f-b467-1c4d43ee473f updated succesfully with user attributes EidasUser{loa=nullprofileName=ΑΝΔΡΕΑΣ, ANDREAS, eid=gr/gr/ermis-11076669, currentGivenName=ΑΝΔΡΕΑΣ, ANDREAS ΠΕΤΡΟΥ, PETROU, currentFamilyName=ΠΕΤΡΟΥ, PETROU, personIdentifier=null, dateOfBirth=null, gender=null}
